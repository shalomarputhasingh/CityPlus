<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CityPulse â€“ Verify OTP</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
{% load static %}
<style>
/* Reusing the same styles for consistency. Ideally this should be in a CSS file. */
*{margin:0;padding:0;box-sizing:border-box;font-family: Arial, Helvetica, sans-serif;}
body{min-height:100vh;background:url("{% static 'assets/images/banners/login-bg.jpg' %}") center/cover no-repeat;position:relative;}
body::before{content:"";position:absolute;inset:0;background:rgba(255,255,255,0.45);z-index:1;}
.page-center{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:40px 20px;position:relative;z-index:2;}
.card{width:420px;background:#fff;border-radius:26px;border:3px solid #000;overflow:hidden;}
.header{background:#4b3dbb;padding:22px;color:#fff;position:relative;height:155px;}
.header::after{content:"";position:absolute;bottom:-55px;left:0;width:100%;height:110px;background:#4b3dbb;border-bottom-left-radius:100% 100px;border-bottom-right-radius:100% 100px;}
.header-content{display:flex;align-items:center;gap:14px;}
.logo-circle{width:58px;height:58px;background:#fff;border-radius:50%;display:flex;justify-content:center;align-items:center;}
.logo-circle img{width:40px;}
.header h2{font-size:24px;}
.header p{font-size:13px;opacity:0.9;}
.image-box{margin-top:45px;padding:0 18px;}
.image-box img{width:100%;border-radius:28px;}
.form{padding:26px;}
.form h3{text-align:center;font-size:24px;margin:18px 0 22px;}
.row{display:flex;align-items:center;margin-bottom:22px;}
.row label{width:95px;font-size:20px;}
.row input{flex:1;padding:12px 16px;border-radius:28px;border:2px solid #000;font-size:16px;}
.submit{display:block;width:70%;margin:28px auto 10px;padding:14px;background:#4b3dbb;color:#fff;border:none;border-radius:32px;font-size:20px;cursor:pointer;}
.alert {padding: 10px; margin-bottom: 15px; border-radius: 5px; text-align: center;}
.alert-error { background: #fee; color: #c00; border: 1px solid #fcc; }
.alert-success { background: #efe; color: #0c0; border: 1px solid #cfc; }
</style>
</head>
<body>
<div class="page-center">
  <div class="card">
    <div class="header">
      <div class="header-content">
        <div class="logo-circle"><img src="{% static 'assets/icons/logo.jpeg' %}" alt="logo"></div>
        <div><h2>Citypulse</h2><p>Theni District | Public Grievance System</p></div>
      </div>
    </div>
    <div class="image-box"><img src="{% static 'assets/images/banners/theni-banner.jpg' %}" alt="Theni"></div>
    <div class="form">
      <h3>Verify OTP</h3>
      
      {% if messages %}
        {% for message in messages %}
          <div class="alert alert-{{ message.tags }}">{{ message }}</div>
        {% endfor %}
      {% endif %}

      <p style="text-align:center; margin-bottom:15px;">OTP sent to {{ phone_number }}</p>

      <form method="POST">
        {% csrf_token %}
        <input type="hidden" name="phone_number" value="{{ phone_number }}">
        <div class="row">
          <label>OTP code:</label>
          <input type="text" name="otp" placeholder="Enter OTP" required>
        </div>
        <button type="submit" class="submit">Verify</button>
      </form>
    </div>
  </div>
</div>
</body>
</html>
